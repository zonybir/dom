<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(5(p){5 q(c,g){6(g||r).13(c)}5 h(c,g){6(g||r).1k(c)}5 k(c,g){x(j e=0,d=c.8;e<d;e++)g.T(c[e],e,c[e])}5 t(c,d){x(j e=0,f=d.8;e<f;e++)i(c===d[e])6!0}5 d(c,d){x(j e=0,f=c.8,a=[];e<f;e++)d.T(c[e],e,c[e])&&a.o(c[e]);6 a}5 n(c){i(0===c.8)6 c;x(j d=0,e=c.8,f=[];d<e;d++){j a;a:{a=0;x(j b=f.8;a<b;a++)i(c[d]===f[a]){a=!0;S a}a=O 0}a||I===c[d]||O 0===c[d]||f.o(c[d])}6 f}5 m(){j d=10,g=[],e,f,a,b;e=0;x(a=d.8;e<a;e++)x(f=0,b=d[e].8;f<b;f++)g.o(d[e][f]);6 g}j r=p.U;p.d=5(c){5 g(b){j c;i("*"!==b)i(" "===b.w(0))"#"===b.w(1)?a=[q(b.v(1))]:(c=[],k(a,5(a,l){c.o(h(1===b.8?"*":b.v(1),l))}),a=m.N(I,c));C i(">"===b)c=[],k(a,5(a,b){c.o(d(b.B,5(a,b){6 1===b.G}))}),a=m.N(I,c);C i("#"===b.w(0))a=[q(b.v(1))];C i("."===b.w(0))a=d(a.8?a:h("*"),5(a,l){j c;a:{c=b.v(1);x(j d=l.1f.K(/\\s+/),e=0,f=d.8;e<f;e++)i(d[e]===c){c=!0;S a}c=O 0}6 c});C i(/^[a-z]+[0-9]?$/V.12(b))a=a.8?d(a,5(a,l){6 l.u===b.1e()}):h(b);C i(":"===b.w(0))a.8||(a=h("*")),-1<b.y(":1h(")?a=[a[b.v(4,b.8-1)]]:-1<b.y(":1l(")?a=d(a,5(a,l){6 a>+b.v(4,b.8-1)}):-1<b.y(":1m(")?a=d(a,5(a,l){6 a<+b.v(4,b.8-1)}):":1n"===b?a=d(a,5(a,b){6"H"===b.u.w(0)&&7>+b.u.w(1)}):":1p"===b?a=[a[0]]:":1v"===b?a=[a.Y()]:":Z"===b?a=d(a,5(a,b){6 0===(a+1)%2}):":11"===b?a=d(a,5(a,b){6 0===a%2}):":X"===b?a=d(a,5(a,b){6"A"===b.u}):t(b,":14 :15 :16 :17 :18 :19 :1a :1b :1c".K(" "))?a=d(a,5(a,c){6"A"===c.u&&b.v(1)===c.1d}):":W"===b?a=d(a,5(a,b){6"A"===b.u&&b.W}):":Q"===b?a=d(a,5(a,b){6"A"===b.u&&b.Q}):":1g"===b?a=d(a,5(a,b){6"A"===b.u&&!b.J}):":J"===b?a=d(a,5(a,b){6"A"===b.u&&b.J}):":1i"===b?a=k(a,5(a,b){c.o(b.1j)}):":R"===b?(c=[],k(a,5(a,b){c.o(d(b.B,5(a,b){6 1===b.G}))}),a=m.N(I,c)):":L"===b?(c=[],k(a,5(a,b){c.o(1===b.L.G?b.L:b.B[1])}),a=c):":M"===b?(c=[],k(a,5(a,b){c.o(1===b.M.G?b.M:b.B[b.B.8-2])}),a=c):0===b.y(":R(")&&(c=[],k(a,5(a,e){c.o(d(e.B,5(a,b){6 1===b.G})[b.v(7,b.8-1)])}),a=c);C i("["===b.w(0)&&"]"===b.w(b.8-1)){b=/^\\[([a-z][a-F-E\\-]*?)([!\\^\\$]?)=(.+?)\\]$/g.1o(b);i(!b)6 a=[];"!"===b[2]?a=d(a.8?a:h("*"),5(a,c){6(c.D(b[1])||"")&&(c.D(b[1])||"")!==b[3]}):"^"===b[2]?a=d(a.8?a:h("*"),5(a,c){6 0===(c.D(b[1])||"").y(b[3])}):"$"===b[2]?a=d(a.8?a:h("*"),5(a,c){j d=c.D(b[1])||"";6 d.y(b[3])+b[3].8===d.8}):""===b[2]&&(a=d(a.8?a:h("*"),5(a,c){6(c.D(b[1])||"")===b[3]}))}}i("1q"===1r c)1s{6 n(U.1t(c))}1u(e){c=c.P(/^\\s+|\\s+$/g,"").P(/\\s{2,}/g," ").P(/\\s*([:\\,>])\\s*/g,"$1").K(",");j f=[],a=[];k(c,5(b,c){i("*"===c)6 n(h("*"));c=c.1w(/\\[[a-z][a-F-E\\-]*?[!\\^\\$]?=.+?\\]|\\s?#?[a-z][a-F-E\\-]*|\\.[a-z][a-F-E\\-]*|>|\\*|\\s|:[a-z][a-F-E\\-\\(\\)]+/V);k(c,5(a,b){g(b)});f=m(f,a);a=[]});6 n(f)}}})(1x);',62,96,'|||||function|return||length||||||||||if|var|||||push||||||nodeName|substring|charAt|for|indexOf||INPUT|childNodes|else|getAttribute|9_|z0|nodeType||null|disabled|split|firstChild|lastChild|apply|void|replace|checked|child|break|call|document|gi|selected|input|pop|even|arguments|odd|test|getElementById|button|checkbox|file|hidden|image|password|reset|submit|text|type|toUpperCase|className|enabled|eq|parent|parentNode|getElementsByTagName|gt|lt|header|exec|first|string|typeof|try|querySelectorAll|catch|last|match|window'.split('|'),0,{}))
	</script>
	<style>
		body{margin:0; padding:0;}
		ul{padding:5px 20px;}
		#main{width:400px; margin:0 auto;}
	</style>
</head>
<body style="font-family:microsoft yahei; color:#555">
	<h2 style="text-align:center;">一个超轻量且兼容到 <i style="color:#c00">IE5</i> 的dom选择器</h2>
	<div id="main">
		<ul class="list">
			<li>
				<ul>
					<li><a href="http://www.abc.org">http://www.abc.org</a></li>
					<li><a href="https://www.baidu.com">https://www.baidu.com</a></li>
					<li><a href="http://www.hhh.com">http://www.hhh.com</a></li>
				</ul>
			</li>
			<li>
				<ul>
					<li><a href="http://www.jd.com">http://www.jd.com</a></li>
					<li><a href="https://www.mm.net">https://www.mm.net</a></li>
					<li><a href="http://www.qq.com">http://www.qq.com</a></li>
					<li><a href="http://www.sina.com.cn">http://www.sina.com.cn</a></li>
				</ul>
			</li>
			<li>
				<input type="button" value="A">
				<input type="button" value="B" disabled>
			</li>
		</ul>
		<ul class="list">
			<li>
				<input type="text">
				<input type="text" disabled>
			</li>
			<li><a href="http://www.boc.cn">http://www.boc.cn</a></li>
			<li><a href="http://www.weibo.com">http://weibo.com</a></li>
		</ul>
		<ul class="list">
			<li>000</li>
			<li>001</li>
			<li>002</li>
			<li>003</li>
			<li>004</li>
			<li>005</li>
		</ul>
	</div>
	<div style="background:#eee; width:1000px; margin:10px auto; padding:10px; border-radius:10px;">
		<pre>
			var item = d('#main li input:disabled, a[href^=https][href$=.com], .list:last&gt;li:even');

			for(var i=0, m=item.length; i&lt;m; i++){
			  item[i].style.background = 'pink';
			} 
		</pre>
		<div style="text-align:center"><input type="button" value="执行" id="btn"></div>
	</div>
	<p style="text-align:center">
		<a target="_blank" href="https://github.com/flfwzgl/dom">fork me on github</a>		
	</p>
	<script>
		var btn = document.getElementById('btn');
		// var item = d('.list:last li:eq(1), input:text:disabled, a[href$=.cn]');
		var item = d('#main li input:disabled, a[href^=https][href$=.com], .list:last>li:even');

		btn.onclick = function(){
			// console.log(item)
			for(var i=0, m=item.length; i<m; i++) item[i].style.background = 'pink';
		}

	</script>
</body>
</html>