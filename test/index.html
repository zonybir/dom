<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(5(q){5 r(c,g){6(g||m).1e(c)}5 h(c,g){6(g||m).1v(c)}5 k(c,g){x(j e=0,d=c.8;e<d;e++)g.U(c[e],e,c[e])}5 t(c,d){x(j e=0,f=d.8;e<f;e++)i(c===d[e])6!0}5 d(c,d){x(j e=0,f=c.8,a=[];e<f;e++)d.U(c[e],e,c[e])&&a.o(c[e]);6 a}5 n(c){i(0===c.8)6 c;x(j d=0,e=c.8,f=[];d<e;d++){j a;a:{a=0;x(j b=f.8;a<b;a++)i(c[d]===f[a]){a=!0;V a}a=K 0}a||I===c[d]||K 0===c[d]||f.o(c[d])}6 f}5 l(){j d=11,g=[],e,f,a,b;e=0;x(a=d.8;e<a;e++)x(f=0,b=d[e].8;f<b;f++)g.o(d[e][f]);6 g}j m=q.1l;q.d=5(c){5 g(b){j c;i("*"!==b)i(" "===b.w(0))"#"===b.w(1)?a=[r(b.v(1))]:(c=[],k(a,5(a,p){c.o(h(1===b.8?"*":b.v(1),p))}),a=l.L(I,c));y i(">"===b)c=[],k(a,5(a,b){c.o(d(b.C,5(a,b){6 1===b.E}))}),a=l.L(I,c);y i("#"===b.w(0))a=[r(b.v(1))];y i("."===b.w(0))a=d(a.8?a:h("*"),5(a,p){j c;a:{c=b.v(1);x(j d=p.12.M(/\\s+/),e=0,f=d.8;e<f;e++)i(d[e]===c){c=!0;V a}c=K 0}6 c});y i(/^[a-z]+[0-9]?$/T.1d(b))a=a.8?d(a,5(a,c){6 c.u===b.1g()}):h(b);y i(":"===b.w(0))a.8||(a=h("*")),-1<b.A(":1k(")?a=[a[b.v(4,b.8-1)]]:-1<b.A(":1m(")?a=d(a,5(a,c){6 a>+b.v(4,b.8-1)}):-1<b.A(":1n(")?a=d(a,5(a,c){6 a<+b.v(4,b.8-1)}):":1p"===b?a=d(a,5(a,b){6"H"===b.u.w(0)&&7>+b.u.w(1)}):":W"===b?a=[a[0]]:":X"===b?a=[a.Y()]:":Z"===b?a=d(a,5(a,b){6 0===(a+1)%2}):":10"===b?a=d(a,5(a,b){6 0===a%2}):":1x"===b?a=d(a,5(a,b){6"B"===b.u}):t(b,":13 :14 :15 :16 :17 :18 :19 :1a :1b".M(" "))?a=d(a,5(a,c){6"B"===c.u&&b.v(1)===c.1c}):":S"===b?a=d(a,5(a,b){6"B"===b.u&&b.S}):":R"===b?a=d(a,5(a,b){6"B"===b.u&&b.R}):":1f"===b?a=d(a,5(a,b){6"B"===b.u&&!b.P}):":P"===b?a=d(a,5(a,b){6"B"===b.u&&b.P}):":1h"===b?(c=[],k(a,5(a,b){c.o(b.1i)}),a=c):":Q"===b?(c=[],k(a,5(a,b){c.o(d(b.C,5(a,b){6 1===b.E}))}),a=l.L(I,c)):":O"===b?(c=[],k(a,5(a,b){c.o(1===b.O.E?b.O:b.C[1])}),a=c):":N"===b?(c=[],k(a,5(a,b){c.o(1===b.N.E?b.N:b.C[b.C.8-2])}),a=c):0===b.A(":Q(")&&(c=[],k(a,5(a,e){c.o(d(e.C,5(a,b){6 1===b.E})[b.v(7,b.8-1)])}),a=c);y i("["===b.w(0)&&"]"===b.w(b.8-1)){b=/^\\[([a-z][a-G-F\\-]*?)([!\\^\\$]?)=(.+?)\\]$/g.1o(b);i(!b)6 a=[];"!"===b[2]?a=d(a.8?a:h("*"),5(a,c){6(c.D(b[1])||"")&&(c.D(b[1])||"")!==b[3]}):"^"===b[2]?a=d(a.8?a:h("*"),5(a,c){6 0===(c.D(b[1])||"").A(b[3])}):"$"===b[2]?a=d(a.8?a:h("*"),5(a,c){j d=c.D(b[1])||"";6 d.A(b[3])+b[3].8===d.8}):""===b[2]&&(a=d(a.8?a:h("*"),5(a,c){6(c.D(b[1])||"")===b[3]}))}}i("1q"===1r c)1s{6 n(m.1t(c))}1u(e){c=c.J(/^\\s+|\\s+$/g,"").J(/\\s{2,}/g," ").J(/\\s*([:\\,>])\\s*/g,"$1").M(",");j f=[],a=[];k(c,5(b,c){i("*"===c)6 n(h("*"));c=c.1w(/\\[[a-z][a-G-F\\-]*?[!\\^\\$]?=.+?\\]|\\s?#?[a-z][a-G-F\\-]*|\\.[a-z][a-G-F\\-]*|>|\\*|\\s|:[a-z][a-G-F\\-\\(\\)]+/T);k(c,5(a,b){g(b)});f=l(f,a);a=[]});6 n(f)}}})(1j);',62,96,'|||||function|return||length||||||||||if|var|||||push||||||nodeName|substring|charAt|for|else||indexOf|INPUT|childNodes|getAttribute|nodeType|9_|z0||null|replace|void|apply|split|lastChild|firstChild|disabled|child|checked|selected|gi|call|break|first|last|pop|even|odd|arguments|className|button|checkbox|file|hidden|image|password|reset|submit|text|type|test|getElementById|enabled|toUpperCase|parent|parentNode|window|eq|document|gt|lt|exec|header|string|typeof|try|querySelectorAll|catch|getElementsByTagName|match|input'.split('|'),0,{}))
	</script>
	<style>
		body{margin:0; padding:0;}
		ul{padding:5px 20px;}
		#main{width:400px; margin:0 auto;}
	</style>
</head>
<body style="font-family:microsoft yahei; color:#555">
	<h2 style="text-align:center;">一个超轻量且兼容到 <i style="color:#c00">IE5</i> 的dom选择器</h2>
	<div id="main">
		<ul class="list">
			<li>
				<ul>
					<li><a href="http://www.abc.org">http://www.abc.org</a></li>
					<li><a href="https://www.baidu.com">https://www.baidu.com</a></li>
					<li><a href="http://www.hhh.com">http://www.hhh.com</a></li>
				</ul>
			</li>
			<li>
				<ul>
					<li><a href="http://www.jd.com">http://www.jd.com</a></li>
					<li><a href="https://www.mm.net">https://www.mm.net</a></li>
					<li><a href="http://www.qq.com">http://www.qq.com</a></li>
					<li><a href="http://www.sina.com.cn">http://www.sina.com.cn</a></li>
				</ul>
			</li>
			<li>
				<input type="button" value="A">
				<input type="button" value="B" disabled>
			</li>
		</ul>
		<ul class="list">
			<li>
				<input type="text">
				<input type="text" disabled>
			</li>
			<li><a href="http://www.boc.cn">http://www.boc.cn</a></li>
			<li><a href="http://www.weibo.com">http://weibo.com</a></li>
		</ul>
		<ul class="list">
			<li>000</li>
			<li>001</li>
			<li>002</li>
			<li>003</li>
			<li>004</li>
			<li>005</li>
		</ul>
	</div>
	<div style="background:#eee; width:1000px; margin:10px auto; padding:10px; border-radius:10px;">
		<pre>
			var item = d('#main li input:disabled, a[href^=https][href$=.com], .list:last&gt;li:even');

			for(var i=0, m=item.length; i&lt;m; i++){
			  item[i].style.background = 'pink';
			} 
		</pre>
		<div style="text-align:center"><input type="button" value="执行" id="btn"></div>
	</div>
	<p style="text-align:center">
		<a target="_blank" href="https://github.com/flfwzgl/dom">fork me on github</a>		
	</p>
	<script>
		var btn = document.getElementById('btn');
		// var item = d('.list:last li:eq(1), input:text:disabled, a[href$=.cn]');
		var item = d('#main li input:disabled, a[href^=https][href$=.com], .list:last>li:even');

		btn.onclick = function(){
			// console.log(item)
			for(var i=0, m=item.length; i<m; i++) item[i].style.background = 'pink';
		}

	</script>
</body>
</html>